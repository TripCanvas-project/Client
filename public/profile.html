<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>TripCanvas - 프로필 관리</title>
        <link rel="stylesheet" href="./styles/profile.css" />
    </head>
    <body>
        <!-- 네비게이션 -->
        <div id="navbar"></div>

        <script type="module">
            import { loadNavbar } from "./js/navbar.js";
            loadNavbar();
        </script>

        <!-- 메인 컨텐츠 -->
        <div class="container">
            <!-- 프로필 헤더 -->
            <div class="profile-header">
                <div class="profile-avatar-large">
                    🧑
                    <label class="avatar-upload" for="avatarUpload"> 📷 </label>
                    <input
                        type="file"
                        id="avatarUpload"
                        style="display: none"
                        accept="image/*"
                    />
                </div>
                <div class="profile-info">
                    <h1 class="profile-name">김여행</h1>
                    <p class="profile-email">travel@example.com</p>
                    <div class="profile-stats">
                        <div class="profile-stat">
                            <div class="profile-stat-value">12</div>
                            <div class="profile-stat-label">여행</div>
                        </div>
                        <div class="profile-stat">
                            <div class="profile-stat-value">127</div>
                            <div class="profile-stat-label">장소</div>
                        </div>
                        <div class="profile-stat">
                            <div class="profile-stat-value">45</div>
                            <div class="profile-stat-label">버킷리스트</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 탭 -->
            <div class="tabs">
                <button class="tab-btn active" data-tab="account">
                    계정 정보
                </button>
                <button class="tab-btn" data-tab="history">
                    여행 히스토리
                </button>
            </div>

            <!-- 계정 정보 탭 -->
            <div class="tab-content" id="accountTab">
                <div class="settings-card">
                    <h2 class="card-title">👤 기본 정보</h2>
                    <form id="profileForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label>아이디</label>
                                <input type="text" value="travelkim" disabled />
                            </div>
                            <div class="form-group">
                                <label>닉네임</label>
                                <input
                                    type="text"
                                    id="nickname"
                                    value="김여행"
                                />
                            </div>
                        </div>
                        <div class="form-group">
                            <label>이메일</label>
                            <input
                                type="email"
                                id="email"
                                value="travel@example.com"
                            />
                        </div>
                        <div class="form-group">
                            <label>자기소개</label>
                            <textarea
                                rows="4"
                                placeholder="나를 소개하는 글을 작성해주세요"
                                id="bio"
                            ></textarea>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary">
                                취소
                            </button>
                            <button type="submit" class="btn btn-primary">
                                저장
                            </button>
                        </div>
                    </form>
                </div>

                <div class="settings-card">
                    <h2 class="card-title">🔒 비밀번호 변경</h2>
                    <form id="passwordForm">
                        <div class="form-group">
                            <label>현재 비밀번호</label>
                            <input
                                type="password"
                                id="currentPassword"
                                placeholder="현재 비밀번호를 입력하세요"
                            />
                        </div>

                        <div class="form-group">
                            <label>새 비밀번호</label>
                            <input
                                type="password"
                                id="newPassword"
                                placeholder="새 비밀번호를 입력하세요"
                            />
                        </div>

                        <div class="form-group">
                            <label>새 비밀번호 확인</label>
                            <input
                                type="password"
                                id="newPasswordConfirm"
                                placeholder="새 비밀번호를 다시 입력하세요"
                            />
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">
                                비밀번호 변경
                            </button>
                        </div>
                    </form>
                </div>

                <div class="settings-card">
                    <h2 class="card-title">⚠️ 계정 관리</h2>
                    <p style="color: #64748b; margin-bottom: 16px">
                        계정을 삭제하면 모든 데이터가 영구적으로 삭제되며 복구할
                        수 없습니다.
                    </p>
                    <button class="btn btn-danger delBtn">계정 삭제</button>
                </div>
            </div>

            <!-- 여행 히스토리 탭 -->
            <div class="tab-content" id="historyTab" style="display: none">
                <div class="settings-card">
                    <h2 class="card-title">📅 최근 여행</h2>
                    <div class="trip-history" id="tripHistoryContainer"></div>
                </div>
            </div>
        </div>
        <script type="module" src="./pages/Profile.mjs"></script>
        <script>
            // navbar.html 동적 삽입
            fetch("navbar.html")
                .then((res) => res.text())
                .then((html) => {
                    document.getElementById("navbar").innerHTML = html;
                });
        </script>
        <script>
            function goHome() {
                alert("대시보드로 이동합니다!");
            }
        </script>
    </body>
</html>
